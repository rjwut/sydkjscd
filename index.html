<!DOCTYPE html>
<html>
  <head>
    <title>Stuff You Didn't Know JavaScript Could Do</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"></link>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nova+Square">
    <link rel="stylesheet" href="slideshow.css"></link>
    <link rel="stylesheet" href="prism.css"></link>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="slideshow.js"></script>
    <script src="prism.js"></script>
    <script src="demos.js"></script>
  </head>
  <body class="language-js">
    <article>
      <section class="visible fadeIn">
        <h1>Stuff You Didn't Know JavaScript Could Do</h1>
      </section>
      <section>
        <h2><code>debugger</code> Statement</h2>
        <pre><code>function debuggerDemo() {
  debugger;
}</code></pre>
        <p>
          <button id="debuggerDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2><code>console.table(arr)</code></h2>
        <pre><code>function consoleTableDemo() {
  console.table([
    { id: '001', name: 'Bulbasaur', types: 'green, poison' },
    { id: '004', name: 'Charmander', types: 'fire' },
    { id: '007', name: 'Squirtle', types: 'water' },
    { id: '070', name: 'Caterpie', types: 'bug' }
  ]);
}</code></pre>
        <p>
          <button id="consoleTableDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2><code>console.dir(obj)</code></h2>
        <pre><code>function consoleDirDemo() {
  console.dir({
    "name": "Balbo Baggins",
    "spouse": "Berylla Boffin",
    "children": [
      {
        "name": "Mungo Baggins",
        "spouse": "Laura Grubb",
        "children": [ /* ... */ ],
      }/*, ... */
    ]
  });
}</code></pre>
        <p>
          <button id="consoleDirDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2><code>console.trace(msg)</code></h2>
        <pre><code>function consoleTraceDemo() {
  console.trace('Don\'t blink. Blink and you\'re dead.');
}</code></pre>
        <p>
          <button id="consoleTraceDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Template Literals</h2>
        <pre><code>function templateLiteralDemo() {
  emitProverb(true);
  emitProverb(false);
}
function emitProverb(vulcan) {
  console.log(`The needs of the ${vulcan ? 'many' : 'one'}
outweigh the needs of the ${vulcan ? 'few' : 'many'}.`);
}</code></pre>
        <p>
          <button id="templateLiteralDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Spread Syntax: Apply Array to Arguments</h2>
        <pre><code>function spreadSyntaxApplyDemo() {
  const args = [ 'Two', 'Hands', 'Blue' ];
  riverChant.apply(null, args); // old way
  riverChant(...args); // new hotness
}
function riverChant(count, parts, color) {
  console.log(`${count} by ${count}, ${parts} of ${color}.`);
}</code></pre>
        <p>
          <button id="spreadSyntaxApplyDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Spread Syntax: Expand Arrays Inside Array Literals</h2>
        <pre><code>function spreadSyntaxExpandDemo() {
  const adjectives = [ 'stuck-up', 'half-witted', 'scruffy-looking' ];
  insult(adjectives, 'nerf herder');
}
function insult(adjectives, noun) {
  const arr = [ ...adjectives, noun ];
  const arr2 = [ ...arr ]; // Look, easy array cloning...
  const arr3 = [ ...arr, ...arr ]; // ...and concatenation!
  console.log(`Why, you ${arr.join(', ')}!`);
}</code></pre>
        <p>
          <button id="spreadSyntaxExpandDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Spread Syntax: Merge Objects</h2>
        <pre><code>function spreadSyntaxMergeDemo() {
  let fellowship = {
    frodo: true, sam: true, merry: true,
    pippin: true, aragorn: true
  };
  console.dir(fellowship);
  fellowship = { ...fellowship, ...{
    gandalf: true, legolas: true, gimli: true,
    boromir: true
  }};
  console.dir(fellowship);
  fellowship = { ...fellowship, ...{
    gandalf: false, boromir: false
  }};
  console.dir(fellowship);
  const clone = { ...fellowship }; // Works for cloning, too!
}</code></pre>
        <p>
          <button id="spreadSyntaxMergeDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Rest Parameters</h2>
        <pre><code>function restParametersDemo() {
  ringPoem('rule them all', 'find them', 'bring them all');
}
function ringPoem(...purposes) {
  purposes.forEach(function(purpose) {
    console.log(`One ring to ${purpose},`);
  });
  console.log('And in the darkness bind them.');
}</code></pre>
        <p>
          <button id="restParametersDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Destructuring Assignments</h2>
        <pre><code>function destructuringDemo() {
  const [ name, ...nanas ] = [
    'Batman!',
    'Nana',
    'nana',
    'nana',
    'nana'
  ];
  console.log(name);
  console.log(nanas);
  const { robin, ...others } = {
    robin: 'ally',
    alfred: 'ally',
    joker: 'enemy',
    catwoman: 'complicated'
  };
  console.log(robin);
  console.log(others);
}</code></pre>
        <p>
          <button id="destructuringDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Object Literal Shorthand</h2>
        <pre><code>function objectLiteralShorthandDemo() {
  let name = 'Spider-man';
  let key1 = 'power', key2 = 'responsibility';
  let hero = {
    name,
    [key1]: 'great',
    [key2]: 'great',
    web() {
      console.log('Thwip!');
    }
  });
  console.dir(hero);
  hero.web();
}</code></pre>
        <p>
          <button id="objectLiteralShorthandDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Arrow Functions</h2>
        <pre><code>function arrowFunctionDemo() {
  const planets = [ /* ... */ ];

  // arrow function
  let zerg = planets.map((planet) => {
    return planet.zerg;
  }).reduce((totalZerg, planetZerg) => {
    return totalZerg + planetZerg;
  });
  console.log('Total zerg: ' + zerg);

  // shorthand (one arg, single return statement)
  zerg = planets
    .map(planet => planet.zerg)
    .reduce((totalZerg, planetZerg) => totalZerg + planetZerg);
  console.log('Total zerg: ' + zerg);
}</code></pre>
        <p>
          <button id="arrowFunctionDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Default Parameters</h2>
        <pre><code>function defaultParameterDemo() {
  equipIndy();
  equipIndy('Nazi uniform', 'military hat', 'pistol');
}

function equipIndy(
  clothes = 'leather jacket',
  hat = 'fedora',
  weapon = 'whip'
) {
  console.log(`Equip Indiana Jones:
Clothing: ${clothes}
Hat: ${hat}
Weapon: ${weapon}`);
}</code></pre>
        <p>
          <button id="defaultParameterDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Page Visibility</h2>
        <pre><code>function pageVisibilityDemo() {
  if (!window.visListener) {
    window.visListener = () => {
      const elapsed = (Date.now() - window.lastTime) / 1000;
      window.lastTime = Date.now();

      if (document.hidden) {
        console.log(`Nox. Page was visible for ${elapsed} s.`);
      } else {
        console.log(`Lumos. Page was hidden for ${elapsed} s.`);
      }
    };
    document.addEventListener('visibilitychange', window.visListener);
    window.lastTime = Date.now();
    console.log('Page visibility demo started');
  } else {
    document.removeEventListener('visibilitychange', window.visListener);
    delete window.visListener;
    console.log('Page visibility demo stopped');
  }
}</code></pre>
        <p>
          <button id="pageVisibilityDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>Speech Synthesis</h2>
        <pre><code>function synthDemo() {
  const synth = window.speechSynthesis;

  if (!synth) {
    console.err('Speech synthesis API not available');
    return;
  }

  synth.speak(new SpeechSynthesisUtterance(
    'Never go in against a Sicilian when death is on the line!'
  ));
}</code></pre>
        <p>
          <button id="synthDemo">Demo</button>
        </p>
      </section>
      <section>
        <h2>WebRTC (user media w/o plugins)</h2>
        <video id="video" width="320" height="240" autoplay></video>
        <pre id="videoCode"><code>function videoDemo() {
  if (!window.stream) {
    const video = $('video')[0];
    navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
      window.stream = stream;
      video.srcObject = stream;
    }).catch(error => {
      console.error(error);
    });
  } else {
    window.stream.getTracks()[0].stop();
    delete window.stream;
  }
}</code></pre>
        <button id="videoDemo">Demo</button>
      </section>
    </article>
  </body>
</html>
